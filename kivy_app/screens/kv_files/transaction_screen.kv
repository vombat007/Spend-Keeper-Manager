<TransactionScreen>:
    selected_type: 'Expense'
    on_pre_enter: root.load_categories()
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 20
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        BoxLayout:
            orientation: 'horizontal'
            size_hint: None, None
            size: 354, 54  # Adjusted size to fit buttons
            spacing: 10

            Button:
                size_hint: None, None
                size: '54dp', '54dp'
                background_normal: 'kivy_app/assets/img/return_button_normal.png'
                background_down: 'kivy_app/assets/img/return_button_normal.png'
                on_press: root.go_back(self)

            Button:
                text: 'Income'
                font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
                color: 0, 0, 0, 1
                size_hint: None, None
                size: 120, 32
                background_normal: 'kivy_app/assets/img/Rectangle_normal.png'
                background_down: 'kivy_app/assets/img/Rectangle_down.png'
                on_press: root.set_type('Income')

            Button:
                text: 'Expense'
                font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
                color: 0, 0, 0, 1
                size_hint: None, None
                size: 120, 32
                background_normal: 'kivy_app/assets/img/Rectangle_normal.png'
                background_down: 'kivy_app/assets/img/Rectangle_down.png'
                on_press: root.set_type('Expense')

        Label:
            text: 'Account:'
            font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
            color: 0, 0, 0, 1
            size_hint: None, None
            pos_hint: {'center_x': 0.5}
            size: self.texture_size

        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: 310, 40
            spacing: 15
            pos_hint: {'center_x': 0.5}

            TextInput:
                id: amount_input
                hint_text: "Amount"
                input_filter: 'float'
                multiline: False
                size_hint_y: None
                height: 45
                padding_y: [10, 10]
                padding_x: [10, 10]
                font_size: 18

        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: 310, 60
            spacing: 15
            pos_hint: {'center_x': 0.5}

            TextInput:
                id: description_input
                hint_text: "Description"
                multiline: False
                height: 45
                padding_y: [10, 10]
                padding_x: [10, 10]
                font_size: 18

        GridLayout:
            id: category_grid
            cols: 4
            size_hint: None, None
            pos_hint: {'center_x': 0.36}
            height: '280dp'
            spacing: 10

        Button:
            text: "Add"
            font_size: 24
            font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
            color: 0, 0, 0, 1
            size_hint: None, None
            pos_hint: {'center_x': 0.5}
            size: 120, 32
            on_press: root.create_transaction()
            background_normal: 'kivy_app/assets/img/Rectangle_down.png'
            background_down: 'kivy_app/assets/img/Rectangle_normal.png'
