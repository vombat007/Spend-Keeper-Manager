#:import CircularChart kivy_app.widget.custom_chart.CircularChart

<CustomButton@Button>:
    background_normal: 'kivy_app/assets/img/Rectangle_normal.png'
    background_down: 'kivy_app/assets/img/Rectangle_down.png'
    font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
    color: 0, 0, 0, 1
    on_state: self.update_button_state(self.state)


<HomeScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
            pos: self.pos
    sidebar: sidebar_menu_id
    chart: chart_id
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 1

        SidebarMenu:
            id: sidebar_menu_id
            size_hint: None, 1
            width: 250
            x: -self.width

        CustomSidebarButton:
            id: sidebar_toggle_button
            size_hint: None, None
            size: '54dp', '53dp'
            pos_hint: {'x': 0, 'y': 0.90}
            on_release: root.toggle_sidebar()

        Button:
            text: 'go_finance'
            font_size: 16
            size_hint: None, None
            size: 90, 18
            color: 0, 0, 1, 1
            background_normal: ''
            background_color: 1, 1, 1, 1
            on_press: root.go_finance(self)

    BoxLayout:
        orientation: 'vertical'
        padding: [50, 130]
        spacing: 15

        CircularChart:
            id: chart_id
            size_hint: None, None
            size: 300, 300
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        BoxLayout:
            orientation: 'horizontal'
            size_hint: None, None
            size: 300, 50
            pos_hint: {'center_x': 0.5, 'center_y': 0.37}
            spacing: 140

            BoxLayout:
                orientation: 'horizontal'
                size_hint: None, None
                size: 90, 32
                spacing: 5

                FloatLayout:
                    size_hint: None, None
                    size: 32, 32
                    canvas.before:
                        Color:
                            rgba: 1, 1, 0, 1  # Yellow color
                        Ellipse:
                            size: self.size
                            pos: self.pos
                        Color:
                            rgba: 0, 0, 0, 1  # Black color for outline
                        Line:
                            width: 1
                            ellipse: (self.x, self.y, self.width, self.height)

                Label:
                    text: 'Left'
                    font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
                    size_hint: None, None
                    size: 50, 32
                    valign: 'middle'
                    halign: 'left'
                    color: 0, 0, 0, 1
                    text_size: self.size

            BoxLayout:
                orientation: 'horizontal'
                size_hint: None, None
                size: 90, 32
                spacing: 5

                FloatLayout:
                    size_hint: None, None
                    size: 32, 32
                    canvas.before:
                        Color:
                            rgba: 0.5, 0.5, 0.5, 1  # Gray color
                        Ellipse:
                            size: self.size
                            pos: self.pos
                        Color:
                            rgba: 0, 0, 0, 1  # Black color for outline
                        Line:
                            width: 1
                            ellipse: (self.x, self.y, self.width, self.height)

                Label:
                    text: 'Spend'
                    font_name: 'kivy_app/assets/fonts/IrishGrover-Regular.ttf'
                    size_hint: None, None
                    size: 50, 32
                    valign: 'middle'
                    halign: 'left'
                    color: 0, 0, 0, 1
                    text_size: self.size

        BoxLayout:
            orientation: 'horizontal'
            size_hint: None, None
            size: 370, 50
            pos_hint: {'center_x': 0.5, 'center_y': 0.05}
            spacing: 10

            CustomButton:
                text: 'Day'
                size_hint: None, None
                size: 70, 35
                on_release: root.set_period('day')

            CustomButton:
                text: 'Week'
                size_hint: None, None
                size: 70, 35
                on_release: root.set_period('week')

            CustomButton:
                text: 'Month'
                size_hint: None, None
                size: 70, 35
                on_release: root.set_period('month')

            CustomButton:
                text: 'Year'
                size_hint: None, None
                size: 70, 35
                on_release: root.set_period('year')

            CustomButton:
                text: 'Period'
                size_hint: None, None
                size: 70, 35
                on_release: root.set_period('period')
